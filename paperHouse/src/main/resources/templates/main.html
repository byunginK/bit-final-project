<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.w3.org/1999/xhtml"
	xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5">

  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>종이의 집</title>
     <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="http://lab.alexcican.com/set_cookies/cookie.js"></script>
      <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
  </head>
  <body>
  

  
    <h1>로그인 성공!!</h1>
    <hr />
     <p><span sec:authentication="principal.EMAIL"></span>님 환영합니다~</p> 
    <a th:href="@{'/'}">메인으로 이동</a>
    <div align="center">
    <br><br>
    <h1>세션 테스트중</h1>
    <h1 id="numTimeCheck"></h1>
    </div>
    <script type="text/javascript">
    countdown();
    // 인증번호 인증시간  
    function countdown() {
        if (countdown.expiredTime == null) {
          countdown.expiredTime = new Date().getTime() + 1000 * 60 * 30; //5분
        }
        countdown.remainSeconds = parseInt((countdown.expiredTime - new Date().getTime()) / 1000);
        if(countdown.remainSeconds < 0) {
           $("#numTimeCheck").css("color","red");	
          $("#numTimeCheck").text("세션만료");
        } else {
          $("#numTimeCheck").text("남은시간 " + parseInt(countdown.remainSeconds / 60) + ":" + new String(countdown.remainSeconds % 60).padStart(2, '0'));
          setTimeout(countdown, 1000);
        }
      }
    
    </script>
  </body>
</html>
